<!--https://spaces.lib.uci.edu/reserve/OneButtonStudio/-->
<!doctype html>
<html lang="en"> 
 <head> <!-- iid: 3012 --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"> 
  <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.min.css" rel="stylesheet"> 
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="/css870/LibCal_public.min.css" rel="stylesheet"> 
  <link href="/css870/print.min.css" rel="stylesheet" media="print"> 
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
  <script>
        window.jQuery || document.write('<script src="/js870/jquery.min.js">\x3C/script>');
    </script> 
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> 
  <script>
        jQuery.ui || document.write('<script src="/js870/jquery-ui.min.js">\x3C/script>');
    </script> 
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
  <script>
        (typeof $().modal == 'function') || document.write('<script src="/js870/bootstrap.min.js">\x3C/script>');
    </script> 
  <script src="/js870/LibCal_public.min.js"></script> 
  <script>
    springSpace.dateFormat = "dddd, MMMM D, YYYY";
    springSpace.dateShortFormat = "dddd, MMMM D, YYYY";
    springSpace.timeFormat = "h:mma";
    springSpace.timezone = 'America/Los_Angeles';
    springSpace.currency = "USD";
    springSpace.currencySymbol = "$";

    springSpace.language = 'en'; // en
    springSpace.locale = 'en-US'; // en-US

    springSpace.phpTimeFormat = 'g:ia';

    springSpace.bootstrapAsset = '/css870/bootstrap.min.css';
    springSpace.publicCssAsset = '/css870/LibCal_public.min.css';
    springSpace.adminCssAsset = '/css870/LibCal_admin.min.css';
</script> 
  <script>
         var springLang  = { eq_GoToNextAvailable: "Next Available", eq_js_add_cart_btn: "Add to Cart", eq_js_add_cc_btn: "Add to Cart & Checkout", eq_js_add_eq_btn: "Add Equipment", eq_js_add_start: "All additional items must have a starting time of", eq_js_add_to_cart: "Add Item to Cart", eq_js_booking_summary_title: "Thank you!", eq_js_cart_tt: "Create a shopping cart with these space bookings, and go to equipment booking page to add more items to the cart.", eq_js_close: "Close", eq_js_date: "Change Return Date", eq_js_det_return: "Determining return time", eq_js_from: "From:", eq_js_from_det: "from", eq_js_go_to_date: "Go To Date", eq_js_isRequired: "is required!", eq_js_rem_pending: "Remove Pending Booking", eq_js_spacew_forb_multi: "Forbidden from booking same resource multiple times in a single booking.<br><br>Please only select sequential checkboxes.", eq_js_spacew_forb_single: "Forbidden from booking different resources in a single booking.", eq_js_to: "To:", eq_js_until_det: "until...", eq_start_over: "Make Another Booking", eq_unavail: "Unavailable/Padding", eq_your_book: "Your Booking" };
    </script> 
  <title>
                                      Space Availability - Multimedia Resources Center
             -
                Library Reservations -
        University of California Irvine
    </title> 
  <link rel="stylesheet" href="/css870/fullcalendar.min.css"> 
  <style>
    .s-lc-eq-avail, .label-eq-avail, .s-lc-eq-period-available {
        background: #14951f none !important;
border-color: #14951f !important;
    }

    .s-lc-eq-avail:hover, .s-lc-eq-period-available:hover {
        background: #095212 none !important;
border-color: #095212 !important;
    }

    .s-lc-eq-pending, .label-eq-pending, .s-lc-eq-period-pending {
        background: #F59F16 none !important;
border-color: #F59F16 !important;
    }

    .s-lc-eq-checkout, .s-lc-eq-r-unavailable, .s-lc-eq-r-padding, .label-eq-unavailable, .s-lc-eq-period-booked {
        background: #c91908 none !important;
border-color: #c91908 !important;
    }
</style> 
  <style>
        @media (max-width: 768px) {
            .fc-timeline .fc-cell-text {
                font-size: 12px !important;
            }
        }
    </style> 
  <style type="text/css">
a, a:hover, a:focus {
	outline: 0 !important;
}
body { 	
	font-size:14px; 
} 
/* BANNER STYLES */#main-nav-banner {   	background-color: #1966A2;}#utility-nav {    	background-color:#002949;    	text-transform:uppercase;   	font-weight:500;    	font-size:12px;    	line-height:1.428457;    }#utility-nav ul {    	list-style-type: none;	padding:0;	margin:0;}#utility-nav ul li {    	float:left;    	color:white;padding:6px 16px 6px 0;    	margin:0;}#utility-nav ul li a {    	color:white;}#utility-nav-left {    	padding-left:14px;float:left;}#utility-nav-right {    	float:right;    	padding-right:24px;}#utility-nav-left ul#utility-nav-left-locations {    	display:none;    	background-color:#ffffff;    	border:1px solid #e7e7e7;    	box-shadow: 0 6px 12px rgba(0, 0, 0, 0.176);    	position:absolute;    	z-index:1000;    	text-transform: uppercase;    	padding:10px;    	margin:0;}#utility-nav-left ul#utility-nav-left-locations li a {    	color:#000000;}#utility-nav-left ul#utility-nav-left-locations li {    	float:none;}#utility-nav-left-location-toggle {    	cursor: pointer;}#banner {    	float: left;    	max-width: 40%;    	padding: 0 0 0 15px;    	border: none;} #utility-nav ul li a { 	margin:0;	padding:0;} #locations_dropdown_menu a:hover,#locations_dropdown_menu a:focus {    	outline: 1px dotted black;} #utility-nav-left li ul.dropdown-menu {     	border:1px #e7e7e7 solid;}#utility-nav-left li ul.dropdown-menu li {     	font-size: 12px;    	padding: 6px 16px 6px 10px;     	line-height:20px;}#utility-nav-left li.open a {    	color: #000000;}.nav > li > a:hover, .nav > li > a:focus {     	background-color: transparent !important;	text-decoration:none !important;}#locations_dropdown, #locations_dropdown:focus, #locations_dropdown:active, #locations_dropdown:hover {    	background-color: #002949 !important;    	color: white !important;} #navbar-mobile-menu button {    margin: 16px auto 0;    padding: 0;}#utility-main-nav-collapse {    background-color: #1a66a1;    border: medium none;    border-radius: 0;    color: white;}#menu-row-mobile a { 	text-decoration: none;}#menu-row-mobile ul { 	padding:0px; 	margin:0px;}#menu-row-mobile ul li{	list-style-type: none;}#menu-row-mobile li:hover {	cursor:pointer;}#main-nav-mobile {	background-color:#1966A2;}.main-nav-mobile-heading {	color:white;	margin:0px;	padding:0px;	padding-left:32px;	font-size:24px;	width:100%;	text-align: left;}.main-nav-mobile-heading:hover {	color:white;}#main-nav-mobile li {	line-height:72px;}.main-nav-mobile-submenu {	background-color:white;	line-height:40px;}.main-nav-mobile-submenu li {	border-left:white solid 5px;}.main-nav-mobile-submenu li a {	padding:0px;	margin:0px;}.main-nav-mobile-submenu li:hover {	border-left:#fcd02f solid 5px;	color:#0D5186;	background-color: white !important;}.main-nav-mobile-submenu li {	padding-left:32px;}#main-nav-mobile li ul li a {	color:#011A2E;}.mobile-main-nav-angle {	float:right;	padding-right:60px;}.mobile-utility-nav-angle {	float:right;	padding-right:30px;}#utility-nav-mobile {	background-color:#002949;	text-transform: uppercase;}#utility-nav-mobile-locations {	width:100%; 	font-size:16px;}#utility-nav-mobile a {	color:white;}#utility-nav-mobile .btn {	color:white;	text-align: left;	padding:0px;	margin:0px;}#utility-nav-mobile li {	line-height:50px;	padding-left:32px;}#utility-nav-mobile-submenu-locations ul li {	color:white;}/* end for mobile utility and main menu *//* arrow toggles */#mobile-angle-down-find {	display:inline-block;}#mobile-angle-left-find {	display:none;}#main-nav-mobile .collapsed #mobile-angle-down-find {	display:none;}#main-nav-mobile .collapsed #mobile-angle-left-find {	display:inline-block;}#mobile-angle-down-services {	display:inline-block;}#mobile-angle-left-services {	display:none;}#main-nav-mobile .collapsed #mobile-angle-down-services {	display:none;}#main-nav-mobile .collapsed #mobile-angle-left-services {	display:inline-block;}#mobile-angle-down-about {	display:inline-block;}#mobile-angle-left-about {	display:none;}#main-nav-mobile .collapsed #mobile-angle-down-about {	display:none;}#main-nav-mobile .collapsed #mobile-angle-left-about {	display:inline-block;}#mobile-angle-down-help {	display:inline-block;}#mobile-angle-left-help {	display:none;}#main-nav-mobile .collapsed #mobile-angle-down-help {	display:none;}#main-nav-mobile .collapsed #mobile-angle-left-help {	display:inline-block;}#mobile-angle-down-locations {	display:inline-block;}#mobile-angle-left-locations {	display:none;}#utility-nav-mobile .collapsed #mobile-angle-down-locations {	display:none;}#utility-nav-mobile .collapsed #mobile-angle-left-locations {	display:inline-block;}.center-block {    margin-top: 16px;}#s-lc-public-footer {		background-color:#002949;		color:#cae1f5;margin-left:-15px;margin-right:-15px;}#s-lc-public-footer a, #s-lc-public-footer a:visited {		color:white;}#s-lc-public-footer .s-lc-text-greyout {		color:#f5f5f5;}/* Small Devices, Tablets */@media only screen and (max-width : 768px) {	     #navbar-mobile {          height:60px;          background-color:#1A66A1;          border-bottom:1px solid #ffffff;     }     #navbar-mobile-banner {          height:60px;          border-left:1px white solid;          border-right:1px white solid;     }     #navbar-mobile div {          padding:0px;          margin:0px;     } }/* Extra Small Devices, Phones */ @media only screen and (max-width : 480px) {	#utility-nav {			display:none;	}	#navbar-mobile {		display:none;	}} #cal-form .form-group:nth-child(4) { display:none; } /* hide the accessible and power icons */
.fa-wheelchair-alt, .fa-plug { display: none; }

/* hide the accessible and power filters */
#s-lc-accessible_container, #s-lc-powered_container { display: none; }

/* hide the accessible and power info on a space page */
.s-lc-section-description p:last-child { display: none; } </style> 
 </head> 
 <body id="equip_" class="s-lc-public s-lc-public-page-5"> 
  <div class="sr-only"> <a href="/r/accessible?lid=6581&amp;gid=26924"> Alternate page for screen reader Users </a> 
  </div> <a id="s-lc-public-skiplink" class="s-lc-skiplink alert-info" href="#s-lc-public-main">Skip to Main Content</a> 
  <div id="s-lc-public-cust-header" role="banner">
   <!-- BEGIN MOBILE MENUS -->
   <div class="navbar-header row visible-xs" id="navbar-mobile">
    <div id="navbar-mobile-menu" class="col-xs-2">
     <button class="center-block" data-target="#menu-row-mobile" data-toggle="collapse" id="utility-main-nav-collapse" type="button">MENU</button>
    </div>
    <div id="navbar-mobile-banner" class="text-center col-xs-8">
     <a href="https://www.lib.uci.edu"><img alt="UCI Libraries Mobile Site" class="center-block" id="banner-mobile" src="https://www.lib.uci.edu/sites/all/images/uci-lib-banner-libapps.jpg"></a>
    </div>
   </div>
   <div class="row hidden-lg hidden-md collapse" id="menu-row-mobile">
    <ul id="utility-nav-mobile"> 
     <li> 
      <div class="btn collapsed" data-target="#utility-nav-mobile-submenu-locations" data-toggle="collapse" id="utility-nav-mobile-locations">
       Locations
      </div> 
      <div class="collapse" id="utility-nav-mobile-submenu-locations"> 
       <ul> 
        <li><a href="//www.lib.uci.edu/langson">Langson Library</a></li> 
        <li><a href="//www.lib.uci.edu/ayala">Ayala Science Library</a></li> 
        <li><a href="//grunigen.lib.uci.edu">Grunigen Medical Library</a></li> 
        <li><a href="https://www.law.uci.edu/library/">Law Library</a></li> 
       </ul> 
      </div> </li> 
     <li><a href="//www.lib.uci.edu/connect-campus">Connect From Off-Campus</a></li> 
     <li><a href="//www.lib.uci.edu/hours">Hours</a></li> 
     <li><a href="//www.lib.uci.edu/accessibility">Accessibility</a></li> 
     <li><a href="//www.lib.uci.edu/accounts">Accounts</a></li> 
     <li><a href="https://partners.lib.uci.edu">Giving</a></li>
    </ul>
   </div><!-- END MOBILE MENUS --><!-- BEGIN INCLUDE THIS: UTILITY BAR AND BANNER -->
   <div id="utility-nav" class="container hidden-xs"> 
    <div id="utility-nav-left"> 
     <ul class="nav navbar-nav" id="utility-nav-left"> 
      <li class="dropdown"><a id="locations_dropdown" aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">Locations <span class="caret"></span></a> 
       <ul class="dropdown-menu" id="locations_dropdown_menu"> 
        <li><a href="//www.lib.uci.edu/langson">Langson Library</a></li> 
        <li><a href="//www.lib.uci.edu/ayala">Ayala Science Library</a></li> 
        <li><a href="//grunigen.lib.uci.edu">Grunigen Medical Library</a></li> 
        <li><a href="https://www.law.uci.edu/library/">Law Library</a></li> 
        <li><a href="//www.lib.uci.edu/gateway-study-center">Gateway Study Center</a></li> 
       </ul> </li> 
      <li><a href="//www.lib.uci.edu/connect-campus">Connect From Off-Campus</a></li> 
     </ul> 
    </div> 
    <div id="utility-nav-right"> 
     <ul class="nav navbar-nav"> 
      <li><a href="https://www.lib.uci.edu/hours"><i class="fa fa-clock-o"></i> Hours</a></li> 
      <li><a href="//www.lib.uci.edu/accessibility"><i class="fa fa-wheelchair"></i> Accessibility</a></li> 
      <li><a href="https://www.lib.uci.edu/accounts"><i class="fa fa-user"></i> Accounts</a></li> 
      <li><a href="https://partners.lib.uci.edu"><i class="fa fa-gift"></i> Giving</a></li> 
     </ul> 
    </div>
   </div>
   <div id="main-nav-banner" class="container hidden-xs"> 
    <div id="banner"> <map id="banner_map" name="banner_map"> <area title="UCI Home Page" alt="UCI Home Page" coords="0,0,120,78" shape="rect" href="https://www.uci.edu"> <area title="UCI Libraries Home Page" alt="UCI Libraries Home Page" coords="121,0,400,78" shape="rect" href="https://www.lib.uci.edu"> </map> 
     <img class="logoLink img-responsive" src="//www.lib.uci.edu/sites/all/images/uci-lib-logo_3.jpg" usemap="#banner_map" alt="Libaries home page" id="banner-image"> 
    </div>
   </div><!-- END INCLUDE THIS: UTILITY BAR AND BANNER -->
  </div> 
  <div class="container"> 
   <div id="s-lc-public-bc" class="row"> 
    <div class="col-md-12"> 
     <nav aria-label="Breadcrumb"> 
      <ol class="breadcrumb"> 
       <li> <a href="http://www.lib.uci.edu/"> University of California Irvine </a> </li> 
       <li class="s-lc-desktop-only"> <a href="https://spaces.lib.uci.edu"> Library Reservations </a> </li> 
       <li class="active s-lc-desktop-only"> Space Availability - Multimedia Resources Center </li> 
      </ol> 
     </nav> 
    </div> 
   </div> 
   <noscript> 
    <div class="alert alert-danger" id="noscript">
     Your browser has javascript disabled. Without javascript some functions will not work.
    </div> 
   </noscript> 
   <main> 
    <div id="s-lc-public-main" class="s-lc-public-main"> 
     <div id="s-lc-public-page-content" class="row"> 
      <div id="col1" class="col-md-12 center"> 
       <div id="s-lc-eq-navform" class="s-lc-spaces-setup-info"> 
        <h1 class="sr-only"> Space Availability - Multimedia Resources Center </h1> 
        <form class="form-inline" role="search"> 
         <input type="hidden" name="page" id="page" value="1"> 
         <input type="hidden" name="type" id="type" value="2"> 
         <div class="form-group form-group-sm"> <label class="hidden-sm" for="lid">Location</label> <select class="form-control" name="lid" id="lid"> <option value="6539">Langson Library</option> <option value="6579">Gateway Study Center</option> <option value="6580">Science Library</option> <option value="6581" selected>Multimedia Resources Center</option> <option value="6583">OC &amp; SEAA Center</option> <option value="9281">Langson Library Pickup</option> <option value="0"> View All Locations </option> </select> 
         </div> 
         <div class="form-group form-group-sm"> <label class="hidden-sm" for="gid">Category</label> <select class="form-control" name="gid" id="gid"> <option value="11682">Multimedia Resources Center (MRC)</option> <option value="13496">Presentation Studio</option> <option value="26924" selected>One Button Studio</option> <option value="0">Show All</option> </select> 
         </div> 
         <div class="form-group form-group-sm"> <label class="hidden-sm" for="capacity"> Capacity </label> <select class="form-control" name="capacity" id="capacity"> <option value="0"> All Spaces (not seats) </option> <option value="1"> Space For 1-4 people </option> </select> 
         </div> 
        </form> 
       </div> 
       <div id="s-lc-group-description" role="region" aria-label="description" class="s-lc-resource-description s-lc-spaces-setup-info"> 
        <p><strong><big>One Button Studio</big></strong></p> 
        <p><span style="font-size:14px;"><span style="font-family:Arial,Helvetica,sans-serif;">The One Button Studio&nbsp;</span>in MRC at Science Library is a simplified video recording system that requires no technical knowledge or previous video production experience.</span></p> 
        <p><span style="font-size:14px;">Users simply insert a USB drive and push a button to begin recording a video. The One Button Studio automates lighting, microphone and camera settings, then compresses and renders the completed video into a .mp4 file that is saved onto a drive. The system resets itself when the drive is unplugged, ready for the next person.</span></p> 
        <p><span style="font-size:14px;">The finished product is a polished video recording that requires little time and effort to produce.</span></p> 
        <table border="1" cellpadding="1" cellspacing="1" style="width: 500px;"> 
         <tbody> 
          <tr> 
           <td><img alt="" src="https://libapps.s3.amazonaws.com/customers/926/images/one_buttton_pic_1.jpg" style="width: 250px; height: 188px;">&nbsp;&nbsp; &nbsp;&nbsp;</td> 
           <td><img alt="" src="https://libapps.s3.amazonaws.com/customers/926/images/One_Button_Studio_photo_2.jpg" style="width: 250px; height: 188px;">&nbsp;&nbsp; &nbsp;&nbsp;</td> 
          </tr> 
         </tbody> 
        </table> 
        <p>&nbsp;</p> 
        <p style="margin-bottom:7.5pt"><span style="line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif"><span style="color:black">Study Room Reservation Policies</span></span></span></span></p> 
        <ul type="disc"> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">Rooms may be booked by current UCI students, staff, and faculty.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">Book up to 7 days in advance.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">Daily Limit: 2 hours across all study rooms.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">Furniture may not be moved in or out of study rooms. Remove all personal items, including trash, at the end of your reservation.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">UCI Libraries are not responsible for unattended belongings.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">If you will not be using the room, cancel your reservation through the link in your email confirmation. This is both a courtesy to other students and will ensure that these hours do not count toward your daily limit.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">When it is time for your reservation proceed directly to the study room. Always have your email confirmation readily available.</span></span></li> 
         <li style="color:black; line-height:15pt"><span style="font-size:10.5pt"><span style="font-family:Arial,sans-serif">The UCI Libraries reserve the right to cancel reservations due to unforeseen circumstances (e.g. emergency maintenance is required).</span></span></li> 
        </ul> 
        <p><span style="font-size:14px;"><span style="font-family:Arial,Helvetica,sans-serif;"></span></span></p> 
        <p style="margin-right:0in; margin-left:0in"><span style="font-size:medium"><span new="" roman="" style="font-family:" times=""><span style="color:#000000"><span style="caret-color:#000000"><span style="font-size:14pt"></span></span></span></span></span></p> 
        <p><span style="font-size:14px;"><span style="font-family:Arial,Helvetica,sans-serif;"></span></span><span style="font-size:11pt"><span style="line-height:normal"><span style="font-family:Arial, sans-serif"><span style="caret-color:#000000"><span style="color:#000000"><span lang="EN" style="font-size:12pt"><span style="font-family:Georgia, serif"></span></span></span></span></span></span></span></p> 
       </div> 
       <div id="s-lc-session-warning" class="alert alert-warning" role="alert" style="display: none;">
         Your session is about to expire, <a id="s-lc-session-warning-continue" href="#">click here</a> to continue your session. 
       </div> 
       <div id="s-lc-session-expired" class="alert alert-danger" role="alert" style="display: none;">
         Your session has expired, please <a id="s-lc-session-expired-reload" href="#">reload</a> the page to start again. 
       </div> 
       <div id="time_grid_cont" role="grid" class="s-lc-spaces-time-grid s-lc-spaces-setup-info"> 
        <div id="eq-time-grid"> 
        </div> 
        <div id="s-lc-time-grid-pagination" class="s-lc-time-grid-pagination"> 
        </div> 
        <div class="s-lc-time-grid-legend" id="eq-time-grid-legend"> <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="Slot is available, click to book!"><span class="label label-eq-avail">&nbsp;&nbsp;</span> Available</span> <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="Your pending booking."><span class="label label-eq-pending">&nbsp;&nbsp;</span> Your Booking</span> <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="This slot is unavailable for starting a new booking. Bookings may occasionally extend into this slot."><span class="label label-eq-unavailable">&nbsp;&nbsp;</span> Unavailable/Padding</span> 
        </div> 
       </div> 
       <div id="s-lc-eq-form-box" class="s-lc-spaces-setup-info" style="display: none;" role="region" aria-label="booking form" aria-live="polite"> 
        <form id="s-lc-eq-form-times" class="form-horizontal" method="post"> 
         <fieldset> 
          <div id="s-lc-eq-bwell" class="well" tabindex="0">
           &nbsp;
          </div> 
          <div id="s-lc-eq-bform-inner" class="col-sm-offset-5"> <button class="btn btn-primary" name="submit_times" id="submit_times">Submit Times</button>&nbsp; 
          </div> 
         </fieldset> 
        </form> 
       </div> 
       <div id="s-lc-eq-form" style="clear:both; display: none;" role="region" aria-live="polite"></div> 
       <div id="s-lc-eq-errors" class="alert alert-danger" style="display: none;" role="region" aria-live="polite"></div> 
       <div id="s-lc-eq-success" style="display: none;" role="region" aria-live="polite"> 
        <h1>Thank you!</h1> 
        <div id="s-lc-eq-success-content"></div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </main> 
   <footer id="s-lc-public-footer" class="s-lc-public-footer row"> 
    <div id="s-lc-public-footer-brand"> <span title="libcal-us-1">Powered by</span> <a href="https://www.springshare.com">Springshare</a>. 
    </div> 
    <div id="s-lc-public-footer-rights">
      All rights reserved. 
    </div> 
    <div id="s-lc-footer-support-link"> <a href="mailto:kferry@uci.edu">Report a tech support issue.</a> 
    </div> 
    <div id="s-lc-public-footer-print-link">
      View this page in a format suitable for <a href="/r/accessible?lid=6581&amp;gid=26924"> screen-readers </a> 
    </div> 
    <div id="s-lc-public-footer-admin-links" role="navigation"> <a id="s-lc-sign-in" href="https://uci.libapps.com/libapps/login.php?site_id=4298&amp;target=">Login to LibApps</a> 
    </div> 
    <div class="s-lc-public-footer-actions"> 
     <div id="s-lc-language"> <select id="s-lc-language-selector" aria-label="Language Selector"> <option value="cy">Cymraeg</option> <option value="en" selected>English</option> <option value="es">español</option> <option value="fr">français</option> <option value="ga">Irish</option> <option value="sl">slovenski jezik</option> <option value="vi">Ti?ng Vi?t</option> <option value="zh">?? Zh?ngwén</option> </select> 
     </div> 
    </div> 
   </footer> 
   <script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-65077063-1', 'auto');  ga('send', 'pageview');</script> 
  </div> 
  <script src="/js870/fullcalendar.min.js"></script> 
  <script src="/js870/datepicker.min.js"></script> 
  <link rel="stylesheet" href="/css870/datepicker.min.css"> 
  <script>
    var springyFullCalendar = {
        commonOptions: {
            schedulerLicenseKey: '0989929130-fcs-1627596663',
            now: '2021\u002D11\u002D22\u002022\u003A58',
            nowIndicator: true,
            scrollTime: '21\u003A00\u003A00',
            lazyFetching: false,
            locale: springSpace.language,
            themeSystem: 'bootstrap',
            eventTextColor: '#222',
            eventDisplay: 'block',
            moreLinkClick: 'day',
            bootstrapFontAwesome: {
                goToDate: 'fa-calendar',
                goToNextAvailable: 'fa-fast-forward',
                refresh: 'fa-refresh',
            },
            navLinks: true, // https://fullcalendar.io/docs/navLinks
            resourceOrder: false, // https://fullcalendar.io/docs/resourceOrder
        },
        timelineOptions: {
            height: 'auto',
            refetchResourcesOnNavigate: false,
            eventOverlap: false,
            displayEventTime: false,
            slotDuration: '00\u003A30',
            titleFormat: springSpace.dateFormat,
            views: {
                timelineSingleDay: {
                    type: 'resourceTimeline',
                    buttonText: 'Day\u0020View',
                    duration: {days: 1},
                    slotLabelFormat: springSpace.timeFormat,
                },
                timelineHourlyShort: {
                    type: 'resourceTimeline',
                    duration: {days: 3},
                    slotLabelFormat: [springSpace.dateFormat, springSpace.timeFormat],
                },
                timelineHourlyLong: {
                    type: 'resourceTimeline',
                    duration: {days: 7},
                    slotLabelFormat: [springSpace.dateFormat, springSpace.timeFormat],
                },
                timelineDailyLong: {
                    type: 'resourceTimeline',
                    slotDuration: '24:00',
                    duration: {days: 28},
                    slotLabelFormat: ['dd D'],
                    nowIndicator: false
                },
                resourceTimeGridWeek: {
                    buttonText: 'Week\u0020View',
                    slotLabelFormat: springSpace.timeFormat,
                }
            },
        },
        publicTexts: {
            allDay: 'All\u0020Day',
            available: 'Available',
            dayGridMonth: 'Month',
            dayGridWeek: 'Agenda',
            goToDate: 'Go\u0020To\u0020Date',
            goToNextAvailable: 'Next\u0020Available',
            next: 'Next',
            prev: 'Previous',
            timeGridDay: 'Day',
            timeGridWeek: 'Week',
            today: 'Today',
            unavailable: 'Unavailable\/Padding',
            yourBooking: 'Your\u0020Booking',
            listWeek: 'Week\u0020List',
        },
        adminTexts: {
            goToDate: 'Go\u0020To\u0020Date',
            refresh: 'Refresh',
            prev: 'Previous',
            next: 'Next',
            today: 'Today',
            week: 'Week',
            month: 'Month',
            day: 'Day',
            dayGridWeek: 'Agenda',
            allDay: 'All\u0020Day',
            atLocation: '\u0025title\u0025\u0020at\u0020\u0025location\u0025',
        },
        dateTimeFormats: {
            monthViewTitle: 'MMMM YYYY',
        },
    };

    // placeholder for dynamic content boxes with a full calendar
    var calendarList = {};

    function reRenderCalendarList() {
        for (var calId in calendarList) {
            calendarList[calId].render();
        }
    }
</script> 
  <script src="/js870/direct/full-calendar-common.min.js"></script> 
  <script src="/js870/direct/public/equipment/common.min.js"></script> 
  <script src="/js870/direct/public/equipment/spaces.min.js"></script> 
  <script>
        var pendingRoomBookings = [];
        var pendingBookingNextId = 1;
        var pendingBookingsBlowAwayCart = false;

        function addError(msg, id) {
            jQuery(".s-lc-eq-" + id).addClass("has-error").find(".form-control").attr("aria-invalid", true);
            jQuery(".s-lc-eq-" + id).find(".s-lc-eq-flab").append('<div class="error-message">' + msg + "</div>");
            jQuery("#" + id).focus();
            return false;
        }

        function removeErrors() {
            jQuery(".s-lc-eq-q").removeClass("has-error").find(".error-message").remove();
        }

        function agreeToTermsAndConditions() {
            jQuery("#bform-terms-container").hide();

            // sometimes we need to check the patron's email before showing the booking form
            var emailRestrictionCheck = jQuery("#s-lc-booking-restriction-check");
            if (emailRestrictionCheck.length > 0) {
                emailRestrictionCheck.show();
                return false;
            }

            // other times we jump directly to the booking form
            jQuery("#bform-form-container").show();

            scrollAndFocusOnElement('#s-lc-bform-help');

            springySpaces.updateSession();

            return false;
        }

                var locationIsUsingLibAuth = true;

        function customFormValidation() {
            // exists to be overwritten by the specific group validation function
        }

        function submitPendingRoomBookings(forcedEmail) {
            removeErrors();
            jQuery("#s-lc-eq-errors").hide();

            if (!isVisibleFieldsValid()) {
                return false;
            }

            if (!customFormValidation()) {
                return false;
            }

            var payload = {
                formData: jQuery("#s-lc-eq-bform").serializeJSON(),
                forcedEmail: forcedEmail,
                session: springySpaces.sessionId,
                bookings: preparePendingBookingsPayload(),
                returnUrl: springySpaces.getReturnUrl(),
                pickupHolds: jQuery('#s-lc-pickup-holds').val(),
                method: springyPage.bookingMethod,
            };

            springySpaces.stopSessionTimer();
            pageBusyBegin("#btn-form-submit");

            jQuery.ajax({
                type: "post",
                url: "/ajax/space/book",
                data: payload,
                dataType: "json",
            })
            .always(function (data) {
                pageBusyEnd("#btn-form-submit");
            })
            .done(function(data) {
                if (data.error) {
                    jQuery("#s-lc-eq-errors").html(data.error).show();
                    return;
                }

                jQuery('#s-lc-eq-form, .s-lc-spaces-setup-info').hide();
                jQuery("#s-lc-eq-success-content").html(data.html)
                jQuery("#s-lc-eq-success").show().focus();
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function submitPendingTimes() {
            var payload = {
                session: springySpaces.sessionId,
                patron: springySpaces.patron,
                patronHash: springySpaces.patronHash,
                bookings: preparePendingBookingsPayload(),
            };

            springySpaces.stopSessionTimer();
            pageBusyBegin("#submit_times");

            jQuery.ajax({
                type: 'post',
                url: "/ajax/space/times",
                data: payload,
                dataType: "html",
            })
            .always(function (data) {
                pageBusyEnd("#submit_times");
            })
            .done(function(data) {
                // hide a bunch of stuff
                jQuery('.s-lc-spaces-setup-info').hide();

                // setup booking form + terms html
                jQuery("#s-lc-eq-form").html(data).show();

                // scroll to the top of the page
                window.scrollTo(0, 0);

                springySpaces.startSessionTimer();
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function submitPendingRoomBookings_LibAuth() {
            var payload = {
                libAuth: true,
                blowAwayCart: true,
                returnUrl: springySpaces.getReturnUrl(),
                session: springySpaces.sessionId,
                bookings: preparePendingBookingsPayload(),
                method: springyPage.bookingMethod,
            };

            springySpaces.stopSessionTimer();
            workingAlert();

            jQuery.ajax({
                type: 'post',
                url: "/ajax/space/createcart",
                data: payload,
                dataType: 'json',
            })
            .always(function (data) {
                stopAlert();
            })
            .done(function(data) {
                if (data.success) {
                    // redirect to libauth checkout page
                    window.location = data.redirect;
                } else {
                    jQuery("#s-lc-eq-errors").html(data.error).show();
                }
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function makeCartAndGoToEquipPage() {
            // we only allow user to do this if all the room bookings start at the same time
            if (pendingRoomBookings.length > 1) {
                var startTime = pendingRoomBookings[0].start;
                for (var i = 1; i < pendingRoomBookings.length; i++) {
                    var bookingInfo = pendingRoomBookings[i];
                    if (!bookingInfo.start.isSame(startTime)) {
                        errorAlert('You can only create an Equipment Cart if all your room bookings begin at the same time.');
                        return false;
                    }
                }
            }

            var payload = {
                blowAwayCart: pendingBookingsBlowAwayCart,
                returnUrl: springySpaces.getReturnUrl(),
                session: springySpaces.sessionId,
                bookings: preparePendingBookingsPayload(),
                method: springyPage.bookingMethod,
            };

            springySpaces.stopSessionTimer();
            workingAlert();

            jQuery.ajax({
                type: 'post',
                url: "/ajax/space/createcart",
                data: payload,
                dataType: 'json',
            })
            .always(function (data) {
                stopAlert();
            })
            .done(function(data) {
                if (data.success) {
                    // redirect to new page
                    window.location = data.redirect;
                } else if (data.hasItems) {
                    errorAlert("Cart already has items in it. If you click the shopping cart again, the existing items in the cart will be replaced by the selected rooms.");
                    pendingBookingsBlowAwayCart = true;
                } else {
                    errorAlert(data.error);
                }
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function changeBookingTimes() {
            // show the old form box + availability grid
            jQuery('.s-lc-spaces-setup-info').show();

            // hide the terms + booking form
            jQuery('#s-lc-eq-form, #s-lc-eq-errors').hide();

            return false;
        }

        function getSpaceResourceContent(info) {
            var html = '';
            var resourceData = info.resource.extendedProps;
            var resourceId = springyPage.isSeatBooking ? resourceData.seatId : resourceData.eid;
            var title  = escapeHtml(info.fieldValue);

            if (resourceData.hasInfo) {
                html += '<a href="#" class="s-lc-item-more-info" data-eid="' + resourceId + '"' +
                    ' aria-label="Click\u0020for\u0020more\u0020info\u0020about ' + title + '">' +
                    '<span class="s-lc-info-label">Info</span>' +
                    '</a>';
            }

            var additionalClasses = '';
            var additionalIcons = '';

            if (resourceData.isAccessible) {
                additionalClasses += ' s-lc-accessible';
                additionalIcons += ' <i class="fa fa-wheelchair-alt fa-lg" aria-hidden="true"></i>';
            }

            if (resourceData.isPowered) {
                additionalClasses += ' s-lc-powered';
                additionalIcons += ' <i class="fa fa-plug fa-lg" aria-hidden="true"></i>';
            }

            var resourceLabel = '<span class="fc-cell-text' + additionalClasses + '">' + title + additionalIcons + '</span>';

            if (resourceData.url !== undefined) {
                html += '<a href="' + resourceData.url + '">' + resourceLabel + '</a>';
            } else {
                html += resourceLabel;
            }

            return {
                html: html,
            };
        }

        jQuery(function () {
            jQuery('#lid').on('change', goToPageForLocation);
            jQuery('#gid').on('change', goToPageForGroup);

            jQuery('#s-lc-session-warning-continue').on('click', springySpaces.updateSession);
            jQuery('#s-lc-session-expired-reload').on('click', function() {
                window.location.reload();

                return false;
            });

            jQuery('#eq_cart').on('click', makeCartAndGoToEquipPage);

            jQuery('#s-lc-eq-form-times').on('submit', function() {
                if (locationIsUsingLibAuth) {
                    return submitPendingRoomBookings_LibAuth();
                }

                return submitPendingTimes();
            });
        });
    </script> 
  <script src="/js870/direct/pagination.min.js"></script> 
  <script src="/js870/direct/public/equipment/spaces-standard.min.js"></script> 
  <script>
        var springyPage = {
            wantAlternatingBackground: true,
            timelineOptions: {
                resourceAreaWidth: '33%',
            },
            locationId: 6581,
            groupId: 26924,
            itemId: -1,
            isSeatBooking: 0,
            seatId: 0,
            zoneId: 0,
            isAccessible: 0,
            isPowered: 0,
            resourceRows: 1,
            resourceColumnLabel: 'Space',
            viewMode: 'timelineHourlyLong',
            returnUrl: '',
            capacitySeatValue: -1,
            pageIndex: 0,
            pageSize: 18,
            bookingMethod: 11,
        };

        var resources = [];
        var resourceNameIdMap = [];

                                                                                                resources.push({
    id: "eid_102070",
    title: "Science\u0020176 (Capacity 2)",
    url: "/space/102070",
    eid: 102070,
    gid: 26924,
    lid: 6581,
    grouping: "One\u0020Button\u0020Studio",
    gtype: 2,
    gBookingSelectableTime: false,
    capacity: 2,
    hasInfo: true,
    thumbnail: "https://libapps.s3.amazonaws.com/accounts/88849/images/One_Button_Studio_photo_2.jpg",
    isAccessible: 0,
    isPowered: 0,
});

resourceNameIdMap["eid_102070"] = "Science\u0020176";                                    
        
        var paginatedResources = springyPagination.createPaginatedResources(resources, springyPage.pageSize);

        var capacityRangesMap = {};
                                capacityRangesMap[0] = {
                min: 0,
                max: 9223372036854775807
            };
                                capacityRangesMap[1] = {
                min: 0,
                max: 4
            };
                                capacityRangesMap[2] = {
                min: 5,
                max: 8
            };
                                capacityRangesMap[3] = {
                min: 9,
                max: 12
            };
                                capacityRangesMap[4] = {
                min: 13,
                max: 9223372036854775807
            };
        
        var resourceSettings = createResourceSettings(1);

        springyPage.resourceCount = resources.length;
    </script> 
  <script>
    var pendingBookingsLimitIssues = null;
    var dateFormatStartTimeDict = "MMDDHHmm";
    var dateFormatDayOfYear = "YYYY-MM-DD";
    var issueTypeAdditionalText = {
        "duration": " minutes",
        "frequency": " bookings",
    };
    var frequencyDisplayStrings = {
        "d": " per\u0020day",
        "w": " per\u0020week",
        "m": " per\u0020month",
        "y": " per\u0020year",
        "t": " at\u0020a\u0020time",
    };

    function pendingRoomBookingsAreNowEmpty() {
        jQuery("#s-lc-eq-form-box").hide();
    }

    function renderPendingRoomBookings() {
        // ensure all tooltips are hidden
        jQuery(".tooltip").hide();

        if (pendingRoomBookings.length == 0) {
            pendingRoomBookingsAreNowEmpty();
            return;
        }

        // refresh the shown cart items
        // format the room data as html
        var html = '<div>';
        var dateTimeFormat = springSpace.getDateTimeFormat();
        var shortDateTimeFormat = springSpace.getShortDateTimeFormat();
        var totalCost = 0;

        for (var i = 0; i < pendingRoomBookings.length; i++) {
            var bookingInfo = pendingRoomBookings[i];
            var bookingCost = bookingInfo.cost;
            var resourceId = bookingInfo.seat_id > 0 ? bookingInfo.seat_id : bookingInfo.eid;
            var resourceName = resourceNameIdMap['eid_' + resourceId];

            html += '<div class="form-group s-lc-pending-booking" id="pending_booking_' + bookingInfo.id + '">';
            html += '   <label class="col-md-5 control-label" for="bookingend_' + bookingInfo.id + '"><strong>' + resourceName + '</strong>: ' + bookingInfo.start.format(dateTimeFormat) + ' ' + springLang.eq_js_until_det + '</label>';
            html += '   <div class="col-md-3">';
            html += '     <div class="input-group">';
            html += '           <select id="bookingend_' + bookingInfo.id + '" name="bookingend_' + bookingInfo.id + '" data-booking="' + bookingInfo.id + '" class="form-control input-sm b-end-date">';

            for (var selectionIndex = 0; selectionIndex < bookingInfo.options.length; selectionIndex++) {
                var selected = bookingInfo.optionSelected == selectionIndex ? 'selected="selected"' : '';
                var value = bookingInfo.options[selectionIndex];
                var name = moment(value).format(shortDateTimeFormat);
                var checksum = bookingInfo.optionChecksums[selectionIndex];
                html += '<option value="' + value + '" ' + selected + ' data-crc="' + checksum + '">' + name + '</option>';
            }

            html += '           </select>';
            html += '           <div class="input-group-btn">';
            html += '               <button type="button" class="btn btn-default btn-sm" onclick="return removePendingBooking(' + bookingInfo.id + ',' + bookingInfo.lid + ');"><i class="fa fa-trash-o" aria-hidden="true"></i><span class="sr-only">' + springLang.eq_js_rem_pending + '</span></button>';
            html += '           </div>';
            html += '       </div>';
            html += '     </div>';
            if (bookingCost > 0) {
                var costDisplay = springSpace.formatCurrency(bookingCost);
                var costPreview = "\u007Bamount\u007D".replace("\u007Bamount\u007D", costDisplay).replace("\u007Brate\u007D", "");
                html += '<label class="col-md-3 control-label s-lc-billing-cost-single">' + costPreview + '</label>';
            }
            html += '   </div>';
            html += '   </div>';
            html += '</div>';

            totalCost += bookingCost;
        }

        var bookingDurationOkay = true;
        if (pendingBookingsLimitIssues) {
            bookingDurationOkay = false;
            pendingBookingsLimitIssues.forEach(function(issueDetails) {
                var limitDisplay = issueDetails.allowed + issueTypeAdditionalText[issueDetails.type] + frequencyDisplayStrings[issueDetails.frequency];
                var usedDisplay = issueDetails.used + issueTypeAdditionalText[issueDetails.type];
                var issueDisplay = 'Sorry,\u0020you\u0020can\u0020only\u0020reserve\u0020\u007BlimitAmount\u007D,\u0020and\u0020you\u0020currently\u0020have\u0020\u007BusedAmount\u007D.\u0020Please\u0020adjust\u0020your\u0020booking.'.replace('{limitAmount}', limitDisplay).replace('{usedAmount}', usedDisplay);
                var issueHtml = '<strong>' + issueDetails.group + '</strong>: ' + issueDisplay;

                html += '\
                    <div class="form-group">\
                        <div class="col-md-offset-1 col-md-10">\
                            <div class="alert alert-warning">' + issueHtml + '</div>\
                        </div>\
                    </div>';
            });
        }

        if (totalCost > 0) {
            html += '\
                <div class="form-group s-lc-pending-booking">\
                    <label class="col-md-5 control-label">Total\u0020cost\u0020for\u0020this\u0020reservation\u003A</label>\
                    <label class="col-md-5 control-label s-lc-billing-cost-total">' + springSpace.formatCurrency(totalCost) + '</label>\
                </div>';
        }

        html += '</div>';

        // show the booking form box which contains the booking well, the terms + conditions and the booking form
        jQuery("#s-lc-eq-form-box").show();

        // put the item in the displayed cart + set the window focus to the cart
        var roomCart = jQuery("#s-lc-eq-bwell");
        roomCart.empty();
        roomCart.html(html);
        roomCart.focus();

        // disable the add equipment and form submission buttons until the times are okay
        jQuery("#submit_times, #eq_cart").prop('disabled', !bookingDurationOkay);

        // setup delete icon tooltips
        accessibleIcons();

        // make the tooltip for the cart icon
        jQuery("#eq_cart").tooltip({
            title: springLang.eq_js_cart_tt,
            html: true,
            container: "body"
        });

        jQuery('.b-end-date').on('change', function() {
            var changedBooking = jQuery(this);

            updatePendingBookingDuration(changedBooking);
        });
    }

    function preparePendingBookingsPayload() {
        var payload = [];

        for (var i = 0; i < pendingRoomBookings.length; i++) {
            var bookingInfo = pendingRoomBookings[i];
            payload.push({
                id: bookingInfo.id,
                eid: bookingInfo.eid,
                seat_id: bookingInfo.seat_id,
                gid: bookingInfo.gid,
                lid: bookingInfo.lid,
                start: bookingInfo.start.format(springSpace.phpDateTimeFormat),
                end: bookingInfo.end.format(springSpace.phpDateTimeFormat),
                checksum: bookingInfo.checksum,
            });
        }
        return payload;
    }

    function updatePendingBookingsFromData(bookings) {
        pendingRoomBookings = [];

        for (var i = 0; i < bookings.length; i++) {
            var booking = bookings[i];

            pendingRoomBookings.push({
                id: booking.id,
                eid: booking.eid,
                seat_id: booking.seat_id,
                gid: booking.gid,
                lid: booking.lid,
                cost: booking.cost,
                checksum: booking.checksum,

                name: booking.name,
                start: moment(booking.start),
                end: moment(booking.end),

                options: booking.options,
                optionSelected: booking.optionSelected,
                optionChecksums: booking.optionChecksums,
            });
        }
    }

    function pendingRoomBookingsUpdateListAndAvailability(payload, fcInstance) {
        // if we are adding rooms, we might need to hide the previous booking success message
        jQuery("#s-lc-eq-success").hide();

        springySpaces.stopSessionTimer();
        workingAlert();

        // find out booking information
        jQuery.ajax({
            type: "post",
            url: "/spaces/availability/booking/add",
            data: payload,
            dataType: "json",
        })
        .always(stopAlert)
        .done(function(data) {
            if (data.error) {
                if (data.isRefreshRequired) {
                    fcInstance.refetchEvents();
                }

                return errorAlert(data.error);
            }

            // success! the entire pending bookings array can be re-created now
            pendingBookingsLimitIssues = data.limitIssues;
            springySpaces.setSessionId(data.session);
            springySpaces.startSessionTimer();
            updatePendingBookingsFromData(data.bookings);

            // this request might have came back with updated grid data
            // if it did not - refresh the whole grid
            if (data.gridUpdateData) {
                updateGridEventsForItem(data.gridUpdateData, fcInstance);
            } else if (fcInstance) {
                fcInstance.refetchEvents();
            }

            renderPendingRoomBookings();
        })
        .fail(ajaxErrorHandler);

        return false;
    }

    function createStartTimeToClassMap(gridData) {
        var startTimeToClassMap = {};

        gridData.forEach(function(gridElement) {
            var startMoment = moment(gridElement.start);
            startTimeToClassMap[startMoment.format(dateFormatStartTimeDict)] = [gridElement.className];
        });

        return startTimeToClassMap;
    }

    function updateGridEventsForItem(gridUpdateData, fcInstance) {
        var changedItemId = gridUpdateData.itemId;
        var changedRangeStart = moment(gridUpdateData.dateStart, springSpace.phpDateTimeFormat);
        var changedRangeEnd = moment(gridUpdateData.dateEnd, springSpace.phpDateTimeFormat);
        var startTimeToClassMap = createStartTimeToClassMap(gridUpdateData.gridData);

        fcInstance.batchRendering(function() {
            fcInstance.getEvents().forEach(function (clientEvent) {
                if (clientEvent.extendedProps.itemId !== changedItemId) {
                    return;
                }

                var clientEventStart = moment(clientEvent.start);
                // if this event is before the day of events that was changed - forget it
                // and we only want to process events that start before the changed range "end"
                if (clientEventStart.isBefore(changedRangeStart) || !clientEventStart.isBefore(changedRangeEnd)) {
                    return;
                }

                var startKey = clientEventStart.format(dateFormatStartTimeDict);
                if (startKey in startTimeToClassMap) {
                    // this slot is unavailable
                    clientEvent.setProp('classNames', startTimeToClassMap[startKey]);
                    clientEvent.setExtendedProp('status', 1);
                } else {
                    // this slot is available
                    clientEvent.setProp('classNames', ["s-lc-eq-avail"]);
                    clientEvent.setExtendedProp('status', 0);
                }
            });
        });
    }

    function timeGridClickedOnAvailableRoom(calEvent, fcInstance) {
        var resource = calEvent.getResources()[0];
        var resourceData = resource.extendedProps;
        var timeslotData = calEvent.extendedProps;
        var view = fcInstance.view;

        var payload = {
            add: {
                eid: resourceData.eid,
                seat_id: resourceData.seatId,
                gid: resourceData.gid,
                lid: resourceData.lid,
                start: moment(calEvent.start).format(springSpace.phpDateTimeFormat),
                checksum: timeslotData.checksum,
            },
                        lid: 6581,
            gid: 26924,
                        start: moment(view.activeStart).format(dateFormatDayOfYear),
            end: moment(view.activeEnd).format(dateFormatDayOfYear),
            session: springySpaces.sessionId,
            bookings: preparePendingBookingsPayload(),
        }

        return pendingRoomBookingsUpdateListAndAvailability(payload, fcInstance);
    }

    function updatePendingBookingDuration(changedBooking) {
        var fcInstance = getCurrentTimelineInstance(6581);
        var view = fcInstance.view;
        var selectedElement = changedBooking.find(':selected');

        var payload = {
            update: {
                id: changedBooking.data('booking'),
                checksum: selectedElement.data('crc'),
                end: changedBooking.val()
            },
                        lid: 6581,
            gid: 26924,
                        start: moment(view.activeStart).format(dateFormatDayOfYear),
            end: moment(view.activeEnd).format(dateFormatDayOfYear),
            session: springySpaces.sessionId,
            bookings: preparePendingBookingsPayload(),
        }

        return pendingRoomBookingsUpdateListAndAvailability(payload, fcInstance);
    }

    function removePendingBooking(pendingId, locationId) {
        var timeline = getCurrentTimelineInstance(locationId);
        var view = timeline.view;

        var payload = {
            removeId: pendingId,
                        lid: 6581,
            gid: 26924,
                        start: moment(view.activeStart).format(dateFormatDayOfYear),
            end: moment(view.activeEnd).format(dateFormatDayOfYear),
            session: springySpaces.sessionId,
            bookings: preparePendingBookingsPayload(),
        }

        return pendingRoomBookingsUpdateListAndAvailability(payload, timeline);
    }

    function formatEventsForFullCalendar(events) {
        events.forEach(function(eventData) {
            eventData.resourceId = "eid_" + eventData.itemId;

            if (eventData.className) {
                // this slot is unavailable
                eventData.status = 1;
                eventData.classNames = [eventData.className];
            } else {
                // this slot is available
                eventData.classNames = ["s-lc-eq-avail"];
                eventData.status = 0;
            }
        });

        return events;
    }

    function timeGridRoomFetchEventsForTimePeriod(start, end, callback, lid, gid, eid) {
        var data = {
            lid: lid,
            gid: gid,
            eid: eid,
            seat: springyPage.isSeatBooking,
            seatId: springyPage.seatId,
            zone: springyPage.zoneId,
            accessible: springyPage.isAccessible,
            powered: springyPage.isPowered,
            start: moment(start).format(dateFormatDayOfYear),
            end: moment(end).format(dateFormatDayOfYear),
            bookings: preparePendingBookingsPayload(),
            pageIndex: springyPage.pageIndex,
            pageSize: springyPage.pageSize,
        };

        var url = '/spaces/availability/grid';

                        if (typeof springyPage.autoCreateBookingDate === 'string') {
            url = '/spaces/availability/grid/pre-create'
            data.autoCreateBookingDate = springyPage.autoCreateBookingDate;
            springyPage.autoCreateBookingDate = null;
        }

        jQuery.ajax({
            type: 'post',
            url: url,
            data: data,
            dataType: 'json',
        })
        .done(function(data) {
            callback(formatEventsForFullCalendar(data.slots));

            // if we've just started a session as part of this grid view request
            // then we need to update our local state with its details
            if (data.session > 0) {
                springySpaces.setSessionId(data.session);
                springySpaces.startSessionTimer();
                updatePendingBookingsFromData(data.bookings);
                renderPendingRoomBookings();
            }

                        var selectorPrefix = '';
            var isNextAvailableButtonWanted = (document.querySelector(selectorPrefix + '.s-lc-eq-avail') === null);
            jQuery(selectorPrefix + '.fc-goToNextAvailable-button').toggle(isNextAvailableButtonWanted);
        })
        .fail(function(xhr) {
            // let fullcalendar know that the request has completed with no results
            callback([]);

            // and display the error to the user
            ajaxErrorHandler(xhr);
        });
    }
</script>  
 </body>
</html>